import{u as D}from"./curd-7c8e8c0b.js";import{_ as N}from"./FormModal.vue_vue_type_script_setup_true_lang-7a4a6970.js";import{_ as S}from"./create-or-look.vue_vue_type_script_setup_true_lang-3c6cd927.js";import{j as I,_ as $}from"./index-eed46f6d.js";import{d as q,r,X as L,o as s,b as P,i as e,w as t,g as l,a as i,h as m,l as p,Y as U,f as A,t as j,F as E}from"./.pnpm-0d809032.js";import"./propData-9c18804a.js";import"./form-55b2d4db.js";const H=q({__name:"index",setup(K){const{state:o,showForm:u,submitForm:g,deleteHandle:k,research:x}=D({url:"/min-program",openPage:!1,queryForm:{username:""}}),f=I();return(T,c)=>{var b;const v=r("el-input"),y=r("el-col"),d=r("el-button"),C=r("el-row"),n=r("el-table-column"),_=r("el-tag"),h=r("el-empty"),F=r("el-table"),V=r("el-card"),w=L("loading");return s(),P(E,null,[e(V,null,{default:t(()=>[e(C,{gutter:20},{default:t(()=>[l(f).userInfo.type===3?(s(),i(y,{key:0,xs:24,sm:8,md:8,lg:6,class:"m-b-20"},{default:t(()=>[e(v,{style:{width:"100%"},placeholder:"请输入用户名",modelValue:l(o).queryForm.username,"onUpdate:modelValue":c[0]||(c[0]=a=>l(o).queryForm.username=a),clearable:""},null,8,["modelValue"])]),_:1})):m("",!0),e(y,{xs:24,sm:8,md:8,lg:6,class:"m-b-20"},{default:t(()=>[l(f).userInfo.type===3?(s(),i(d,{key:0,type:"primary",onClick:l(x)},{default:t(()=>[p("搜索")]),_:1},8,["onClick"])):m("",!0),e(d,{type:"primary",plain:!0,onClick:l(u)},{default:t(()=>[p("新建")]),_:1},8,["onClick"])]),_:1})]),_:1}),U((s(),i(F,{data:l(o).dataList,"header-cell-style":{"text-align":"center","background-color":"#F1F1F1",height:"50px",color:"#333"},"cell-style":{padding:"0","text-align":"center",height:"50px",color:"#333"},"row-key":l(o).primaryKey},{empty:t(()=>[e(h)]),default:t(()=>[e(n,{prop:"id",label:"序号"}),e(n,{prop:"name",label:"小程序名称"}),e(n,{label:"类型"},{default:t(({row:a})=>[A("span",null,j(a.type===1?"落地小程序":"自有小程序"),1)]),_:1}),e(n,{prop:"app_id",label:"小程序APPID"}),e(n,{prop:"secret",label:"小程序AppSecret"}),e(n,{prop:"user.username",label:"创建人"}),e(n,{prop:"created_at",label:"创建时间"}),e(n,{label:"状态"},{default:t(({row:a})=>[a.is_enable===1?(s(),i(_,{key:0,type:"success",effect:"dark"},{default:t(()=>[p("启用")]),_:1})):(s(),i(_,{key:1,type:"danger",effect:"dark"},{default:t(()=>[p("禁用")]),_:1}))]),_:1}),e(n,{label:"小程序池"},{default:t(({row:a})=>[a.is_pre_min===1?(s(),i(_,{key:0,type:"success"},{default:t(()=>[p("是")]),_:1})):(s(),i(_,{key:1,type:"danger"},{default:t(()=>[p("否")]),_:1}))]),_:1}),e(n,{prop:"",label:"操作"},{default:t(({row:a})=>[e(d,{type:"primary",link:"",onClick:B=>l(u)(a)},{default:t(()=>[p("编辑")]),_:2},1032,["onClick"]),e(d,{type:"primary",link:"",onClick:B=>l(k)(a.id)},{default:t(()=>[p("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","row-key"])),[[w,l(o).listLoading]])]),_:1}),l(o).formVisible===!0?(s(),i(N,{key:0,visible:l(o).formVisible,"onUpdate:visible":c[1]||(c[1]=a=>l(o).formVisible=a),loading:l(o).formLoading,detail:l(o).detailData,onSubmit:l(g),type:"dialog",width:"600",title:(b=l(o).detailData)!=null&&b.id?"编辑":"新增",cancelBtnName:"取消",okBtnName:"确定"},{default:t(()=>[e(S)]),_:1},8,["visible","loading","detail","onSubmit","title"])):m("",!0)],64)}}});const Q=$(H,[["__scopeId","data-v-0d1a54cf"]]);export{Q as default};
