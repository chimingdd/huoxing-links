import{u as w}from"./index-501ba653.js";import{u as A}from"./form-e5ba5cf1.js";import{d as C,j as V,r as s,X as P,Y as B,g as r,o as d,a as c,w as n,i as l,b as F,e as I,F as N,l as _,h as L}from"./.pnpm-9b0f0a98.js";const E=C({__name:"create-or-look",setup(R){const f=V(),{formData:u,formLoading:g}=A({formRef:f,defVal(e){return{name:e==null?void 0:e.name,app_id:e==null?void 0:e.app_id,secret:e==null?void 0:e.secret,url:e==null?void 0:e.url,is_pre_min:e!=null&&e.is_pre_min?e.is_pre_min:0,type:e==null?void 0:e.type,is_enable:e!=null&&e.is_enable?e.is_enable:0}}}),v=w,i=V(!1);v.$state.userInfo.type==3&&(i.value=!0);const y=[{name:"落地小程序",value:1},{name:"自有小程序",value:2}],k={name:[{required:!0,message:"请输入小程序名称",trigger:"blur"}],app_id:[{required:!0,message:"请输入appid",trigger:"blur"}],secret:[{required:!0,message:"请输入secret",trigger:"blur"}],url:[{required:!0,message:"请输入页面路径",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"blur"}]};return(e,a)=>{const t=s("el-input"),p=s("el-form-item"),U=s("el-option"),q=s("el-select"),m=s("el-radio"),b=s("el-radio-group"),x=s("el-form"),D=P("loading");return B((d(),c(x,{model:r(u),rules:k,ref_key:"formRef",ref:f,"label-position":"top"},{default:n(()=>[l(p,{prop:"name",label:"小程序名称"},{default:n(()=>[l(t,{modelValue:r(u).name,"onUpdate:modelValue":a[0]||(a[0]=o=>r(u).name=o)},null,8,["modelValue"])]),_:1}),l(p,{prop:"app_id",label:"小程序APPID"},{default:n(()=>[l(t,{modelValue:r(u).app_id,"onUpdate:modelValue":a[1]||(a[1]=o=>r(u).app_id=o),placeholder:"请输入小程序APPID，以wx开头"},null,8,["modelValue"])]),_:1}),l(p,{prop:"secret",label:"小程序AppSecret"},{default:n(()=>[l(t,{modelValue:r(u).secret,"onUpdate:modelValue":a[2]||(a[2]=o=>r(u).secret=o)},null,8,["modelValue"])]),_:1}),l(p,{prop:"type",label:"类型"},{default:n(()=>[l(q,{modelValue:r(u).type,"onUpdate:modelValue":a[3]||(a[3]=o=>r(u).type=o),placeholder:"选择类型"},{default:n(()=>[(d(),F(N,null,I(y,o=>l(U,{key:o.value,label:o.name,value:o.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(p,{prop:"url",label:"页面路径"},{default:n(()=>[l(t,{modelValue:r(u).url,"onUpdate:modelValue":a[4]||(a[4]=o=>r(u).url=o)},null,8,["modelValue"])]),_:1}),i.value?(d(),c(p,{key:0,prop:"is_pre_min",label:"是否平台小程序池"},{default:n(()=>[l(b,{modelValue:r(u).is_pre_min,"onUpdate:modelValue":a[5]||(a[5]=o=>r(u).is_pre_min=o)},{default:n(()=>[l(m,{value:1,label:1},{default:n(()=>[_("是")]),_:1}),l(m,{value:0,label:0},{default:n(()=>[_("否")]),_:1})]),_:1},8,["modelValue"])]),_:1})):L("",!0),l(p,{prop:"is_pre_min",label:"是否禁用小程序"},{default:n(()=>[l(b,{modelValue:r(u).is_enable,"onUpdate:modelValue":a[6]||(a[6]=o=>r(u).is_enable=o)},{default:n(()=>[l(m,{value:0,label:0},{default:n(()=>[_("是")]),_:1}),l(m,{value:1,label:1},{default:n(()=>[_("否")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])),[[D,r(g)]])}}});export{E as _};
