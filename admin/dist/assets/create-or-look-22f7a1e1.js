import{d as O,j as _,z,r,X as F,o as c,b as V,f as a,i as s,w as i,t as f,g as e,Y as N,a as v,F as b,e as R,an as E,l as x,A as P,B as T}from"./.pnpm-9b0f0a98.js";import{U as X,M as Y}from"./MaterialSelect-820834ff.js";import{u as $}from"./form-e5ba5cf1.js";import{A as G}from"./domain-fceff1aa.js";import{b as H}from"./app-d6b245fe.js";import{O as w,u as J,_ as K}from"./index-06117f19.js";import{_ as Q}from"./qrLink.vue_vue_type_script_setup_true_lang-c4755d86.js";import"./propData-3c6625bc.js";import"./curd-06fa7d62.js";import"./cate-977c4cd5.js";const p=d=>(P("data-v-f65252aa"),d=d(),T(),d),W={style:{"margin-top":"-30px"},class:"m-b-20"},Z=p(()=>a("span",null,"消耗个数：1个",-1)),ee={class:"main"},oe={class:"item-box"},se={class:"function-img"},le=p(()=>a("span",{class:"tip"},"只能上传jpg/png，建议大小100*100，且不超过1Mb",-1)),ne={style:{"font-size":"12px"}},te=p(()=>a("br",null,null,-1)),ae={class:"show hidden-md-and-down"},ie=p(()=>a("span",null,"抖音卡片预览",-1)),re={class:"show-box"},me={class:"show-des"},de={class:"show-des-t"},ue={class:"show-des-b"},ce=O({__name:"create-or-look",setup(d){const g=_(),{formData:o,formLoading:k}=$({formRef:g,defVal(l){return{title:l==null?void 0:l.title,type:"3",description:l==null?void 0:l.description,icon:l==null?void 0:l.icon,remark:l==null?void 0:l.remark,config:l!=null&&l.config?l==null?void 0:l.config:{}}}}),h=_(),y=async()=>{h.value=await G()},L=_(),U=async()=>{L.value=await H()},I={title:[{required:!0,message:"请输入标题",trigger:"blur"}],"config.domain_id":[{required:!0,message:"请选择域名",trigger:"blur"}],"config.url":[{required:!0,message:"请选择二维码图片",trigger:"blur"}]},D=J;return z(()=>{y(),U()}),(l,t)=>{const S=r("el-space"),u=r("el-input"),m=r("el-form-item"),q=r("el-option"),A=r("el-select"),B=r("el-icon"),M=r("el-form"),j=r("el-divider"),C=F("loading");return c(),V(b,null,[a("div",W,[s(S,{class:"text-main"},{default:i(()=>[a("span",null,"总个数："+f(e(D).userInfo.link_amount)+"个",1),Z]),_:1})]),a("div",ee,[N((c(),v(M,{model:e(o),rules:I,ref_key:"formRef",ref:g,class:"form-box margin-right-40","label-position":"top"},{default:i(()=>[s(m,{prop:"title",label:"卡片标题"},{default:i(()=>[s(u,{modelValue:e(o).title,"onUpdate:modelValue":t[0]||(t[0]=n=>e(o).title=n),placeholder:"请输入卡片标题"},null,8,["modelValue"])]),_:1}),s(m,{label:"卡片描述"},{default:i(()=>[s(u,{modelValue:e(o).description,"onUpdate:modelValue":t[1]||(t[1]=n=>e(o).description=n),placeholder:"请输入卡片描述"},null,8,["modelValue"])]),_:1}),s(m,{label:"卡片封面图"},{default:i(()=>[a("div",oe,[s(w,{class:"margin-right-20",paths:e(o).icon?[e(o).icon]:[],width:100,height:100},null,8,["paths"]),a("div",null,[a("div",se,[s(X,{class:"margin-right-10",type:["image/jpg","image/jpeg","image/png"],size:1,modelValue:e(o).icon,"onUpdate:modelValue":t[2]||(t[2]=n=>e(o).icon=n)},null,8,["modelValue"]),s(Y,{modelValue:e(o).icon,"onUpdate:modelValue":t[3]||(t[3]=n=>e(o).icon=n),class:"margin-right-20"},null,8,["modelValue"])]),le])])]),_:1}),s(m,{label:"卡片备注"},{default:i(()=>[s(u,{modelValue:e(o).remark,"onUpdate:modelValue":t[4]||(t[4]=n=>e(o).remark=n),placeholder:"请输入卡片备注，例如：xxx活动（选填）"},null,8,["modelValue"])]),_:1}),s(m,{prop:"config.domain_id",label:"无风险域名"},{default:i(()=>[s(A,{modelValue:e(o).config.domain_id,"onUpdate:modelValue":t[5]||(t[5]=n=>e(o).config.domain_id=n),placeholder:"请选择"},{default:i(()=>[(c(!0),V(b,null,R(h.value,n=>(c(),v(q,{key:n.id,label:n.title,value:n.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),s(m,{prop:"config.url",label:"草料二维码"},{default:i(()=>[s(Q,{class:"margin-b-10",modelValue:e(o).config.url,"onUpdate:modelValue":t[6]||(t[6]=n=>e(o).config.url=n)},null,8,["modelValue"]),s(u,{modelValue:e(o).config.url,"onUpdate:modelValue":t[7]||(t[7]=n=>e(o).config.url=n),disabled:""},null,8,["modelValue"]),a("div",ne,[s(B,null,{default:i(()=>[s(e(E))]),_:1}),x(" 上传在草料图片类使用微信二维码、公众号二维码、企业微信二维码、视频号二维码生成的二维码"),te,x("*生成的URL带有https://qr61.cn域名 ")])]),_:1})]),_:1},8,["model"])),[[C,e(k)]]),a("div",ae,[s(j,null,{default:i(()=>[ie]),_:1}),a("div",re,[s(w,{class:"margin-right-20",paths:e(o).icon?[e(o).icon]:[],width:100,height:100},null,8,["paths"]),a("div",me,[a("span",de,f(e(o).title||"卡片标题"),1),a("span",ue,f(e(o).description||"卡片描述"),1)])])])])],64)}}});const ke=K(ce,[["__scopeId","data-v-f65252aa"]]);export{ke as default};
