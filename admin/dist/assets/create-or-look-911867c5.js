import{T as D,_ as j}from"./tailorUpload-1aab149d.js";import{u as B}from"./form-3c660157.js";import{O as _,_ as I}from"./index-1cb382aa.js";import{M as V,U as N}from"./MaterialSelect-7c3644d3.js";import{A as O}from"./domain-0ccd45bf.js";import{d as T,r as b,b as A,ag as a,aq as E,o as p,c as v,J as F,u as e,H as u,I as n,Q as t,a as m,M as k,L as q,P as R,a5 as z}from"./@vue-d872a633.js";import"./vue-cropper-a8fd63f1.js";import"./element-plus-baf202ae.js";import"./lodash-es-32f1e46b.js";import"./@element-plus-11e7d0b3.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-f13f0179.js";import"./call-bind-apply-helpers-be8cb158.js";import"./function-bind-48f717dc.js";import"./es-errors-c75f5a96.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-5ec34e26.js";import"./pinia-cb4be529.js";import"./vue-demi-71ba0ef2.js";import"./pinia-plugin-persistedstate-ed167f96.js";import"./axios-439bb627.js";import"./qs-6612e700.js";import"./side-channel-32a248f0.js";import"./object-inspect-110ff94a.js";import"./side-channel-list-1667605c.js";import"./side-channel-map-a9d6574a.js";import"./get-intrinsic-8d8987ad.js";import"./es-object-atoms-11ea1ab9.js";import"./math-intrinsics-9389030e.js";import"./gopd-30775706.js";import"./es-define-property-27915812.js";import"./has-symbols-76fb15e9.js";import"./get-proto-15e8f36b.js";import"./dunder-proto-2a4d8230.js";import"./hasown-31deb62f.js";import"./call-bound-dbfc98a1.js";import"./side-channel-weakmap-a7bef06b.js";import"./vue-router-154b9487.js";import"./@vueuse-9028f0e6.js";import"./nprogress-72cfee09.js";/* empty css                    */import"./propData-8a0097e5.js";import"./curd-b17e16e8.js";import"./cate-f1806917.js";import"./app-62f4ec8e.js";const H={class:"main"},J={class:"item-box"},P={class:"function-img"},S={class:"m-r-20"},G={class:"item-box"},K={class:"function-img"},W={class:"m-r-20"},X={class:"show hidden-md-and-down"},Y=T({__name:"create-or-look",setup(Z){const g=b(),{formData:r,formLoading:Q}=B({formRef:g,defVal(i){return{id:i==null?void 0:i.id,type:7,title:i==null?void 0:i.title,icon:i==null?void 0:i.icon,remark:i==null?void 0:i.remark,description:i==null?void 0:i.description,config:i!=null&&i.config?i==null?void 0:i.config:{version:1,nickname:"",number:"",qr:""}}}}),U={title:[{required:!0,message:"请输入标题",trigger:"blur"}],icon:[{required:!0,message:"请上传卡片封面图",trigger:"blur"}],"config.number":[{required:!0,message:"请输入QQ群号码",trigger:"blur"}],"config.qr":[{required:!0,message:"请上传QQ群二维码",trigger:"blur"}],"config.nickname":[{required:!0,message:"请输入QQ群昵称",trigger:"blur"}],"config.domain_id":[{required:!0,message:"请选择域名",trigger:"blur"}]},f=b(),w=async()=>{f.value=await O()};return A(()=>{w()}),(i,o)=>{const d=a("el-input"),s=a("el-form-item"),c=a("el-radio"),y=a("el-radio-group"),x=a("el-option"),L=a("el-select"),h=a("el-form"),M=a("el-divider"),C=E("loading");return p(),v("div",H,[F((p(),u(h,{model:e(r),rules:U,ref_key:"formRef",ref:g,class:"form-box margin-right-40","label-position":"top"},{default:n(()=>[t(s,{prop:"title",label:"标题"},{default:n(()=>[t(d,{style:{width:"100%"},modelValue:e(r).title,"onUpdate:modelValue":o[0]||(o[0]=l=>e(r).title=l),placeholder:"请输入标题"},null,8,["modelValue"])]),_:1}),t(s,{prop:"description",label:"描述"},{default:n(()=>[t(d,{style:{width:"100%"},modelValue:e(r).description,"onUpdate:modelValue":o[1]||(o[1]=l=>e(r).description=l),placeholder:"请输入描述"},null,8,["modelValue"])]),_:1}),t(s,{label:"备注"},{default:n(()=>[t(d,{modelValue:e(r).remark,"onUpdate:modelValue":o[2]||(o[2]=l=>e(r).remark=l),placeholder:"请输入备注"},null,8,["modelValue"])]),_:1}),t(s,{label:"卡片封面图",prop:"icon"},{default:n(()=>[m("div",J,[t(_,{class:"margin-right-20",paths:e(r).icon?[e(r).icon]:[],width:100,height:100},null,8,["paths"]),m("div",null,[m("div",P,[m("div",S,[t(D,{modelValue:e(r).icon,"onUpdate:modelValue":o[3]||(o[3]=l=>e(r).icon=l)},null,8,["modelValue"])]),t(V,{modelValue:e(r).icon,"onUpdate:modelValue":o[4]||(o[4]=l=>e(r).icon=l),class:"margin-right-20"},null,8,["modelValue"])]),o[11]||(o[11]=m("span",{class:"tip"},"只能上传jpg/png，建议大小100*100，且不超过1Mb",-1))])])]),_:1}),t(s,{prop:"config.nickname",label:"QQ群昵称"},{default:n(()=>[t(d,{style:{width:"100%"},modelValue:e(r).config.nickname,"onUpdate:modelValue":o[5]||(o[5]=l=>e(r).config.nickname=l),placeholder:"请输QQ群昵称"},null,8,["modelValue"])]),_:1}),t(s,{required:"",class:"m-t-20"},{default:n(()=>[t(y,{modelValue:e(r).config.version,"onUpdate:modelValue":o[6]||(o[6]=l=>e(r).config.version=l)},{default:n(()=>[t(c,{value:1,label:1},{default:n(()=>o[12]||(o[12]=[k("旧版")])),_:1}),t(c,{value:2,label:2},{default:n(()=>o[13]||(o[13]=[k("新版")])),_:1})]),_:1},8,["modelValue"])]),_:1}),e(r).config.version===1?(p(),u(s,{key:0,label:"QQ群号码",prop:"config.number"},{default:n(()=>[t(d,{modelValue:e(r).config.number,"onUpdate:modelValue":o[7]||(o[7]=l=>e(r).config.number=l),placeholder:"请输入QQ群号码"},null,8,["modelValue"])]),_:1})):q("",!0),e(r).config.version===2?(p(),u(s,{key:1,label:"QQ群二维码",prop:"config.qr"},{default:n(()=>[m("div",G,[t(_,{class:"margin-right-20",paths:e(r).config.qr?[e(r).config.qr]:[],width:100,height:100},null,8,["paths"]),m("div",null,[m("div",K,[m("div",W,[t(N,{type:["image/jpg","image/jpeg","image/png"],size:1,modelValue:e(r).config.qr,"onUpdate:modelValue":o[8]||(o[8]=l=>e(r).config.qr=l)},null,8,["modelValue"])]),t(V,{modelValue:e(r).config.qr,"onUpdate:modelValue":o[9]||(o[9]=l=>e(r).config.qr=l),class:"margin-right-20"},null,8,["modelValue"])]),o[14]||(o[14]=m("span",{class:"tip"},"只能上传jpg/png，建议大小100*100，且不超过1Mb",-1))])])]),_:1})):q("",!0),t(s,{prop:"config.domain_id",label:"无风险域名"},{default:n(()=>[t(L,{modelValue:e(r).config.domain_id,"onUpdate:modelValue":o[10]||(o[10]=l=>e(r).config.domain_id=l),placeholder:"请选择",style:{width:"100%"}},{default:n(()=>[(p(!0),v(R,null,z(f.value,l=>(p(),u(x,{key:l.id,label:l.title,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])),[[C,e(Q)]]),m("div",X,[t(M,null,{default:n(()=>o[15]||(o[15]=[m("span",null,"预览",-1)])),_:1}),o[16]||(o[16]=m("div",{class:"show-box"},[m("img",{class:"show-box",src:j})],-1))])])}}});const Ko=I(Y,[["__scopeId","data-v-66ed5b89"]]);export{Ko as default};
