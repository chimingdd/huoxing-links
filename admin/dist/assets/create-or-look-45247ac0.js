import{d as C,j as _,z as O,r,X as z,o as c,b as V,f as a,i as s,w as i,t as f,g as e,Y as F,a as v,F as b,e as N,an as E,l as P,A as R,B as T}from"./.pnpm-9b0f0a98.js";import{U as X,M as Y}from"./MaterialSelect-06859c69.js";import{u as $}from"./form-e5ba5cf1.js";import{A as G}from"./domain-95febab1.js";import{b as H}from"./app-af90cb42.js";import{O as x,u as J,_ as K}from"./index-501ba653.js";import{_ as Q}from"./qrLink.vue_vue_type_script_setup_true_lang-c4755d86.js";import"./propData-3c6625bc.js";import"./curd-fc6336b0.js";import"./cate-46a1509f.js";const p=m=>(R("data-v-33ef7d0f"),m=m(),T(),m),W={style:{"margin-top":"-30px"},class:"m-b-20"},Z=p(()=>a("span",null,"消耗个数：1个",-1)),ee={class:"main"},oe={class:"item-box"},se={class:"function-img"},le=p(()=>a("span",{class:"tip"},"只能上传jpg/png，建议大小100*100，且不超过1Mb",-1)),ne={style:{"font-size":"12px"}},te=p(()=>a("br",null,null,-1)),ae={class:"show hidden-md-and-down"},ie=p(()=>a("span",null,"抖音卡片预览",-1)),re={class:"show-box"},de={class:"show-des"},me={class:"show-des-t"},ue={class:"show-des-b"},ce=C({__name:"create-or-look",setup(m){const g=_(),{formData:o,formLoading:w}=$({formRef:g,defVal(l){return{title:l==null?void 0:l.title,type:"11",description:l==null?void 0:l.description,icon:l==null?void 0:l.icon,remark:l==null?void 0:l.remark,config:l!=null&&l.config?l==null?void 0:l.config:{}}}}),h=_(),k=async()=>{h.value=await G()},y=_(),L=async()=>{y.value=await H()},U={title:[{required:!0,message:"请输入标题",trigger:"blur"}],"config.domain_id":[{required:!0,message:"请选择域名",trigger:"blur"}],"config.url":[{required:!0,message:"请选择二维码图片",trigger:"blur"}]},I=J;return O(()=>{k(),L()}),(l,t)=>{const D=r("el-space"),u=r("el-input"),d=r("el-form-item"),S=r("el-option"),A=r("el-select"),B=r("el-icon"),M=r("el-form"),j=r("el-divider"),q=z("loading");return c(),V(b,null,[a("div",W,[s(D,{class:"text-main"},{default:i(()=>[a("span",null,"总个数："+f(e(I).userInfo.link_amount)+"个",1),Z]),_:1})]),a("div",ee,[F((c(),v(M,{model:e(o),rules:U,ref_key:"formRef",ref:g,class:"form-box margin-right-40","label-position":"top"},{default:i(()=>[s(d,{prop:"title",label:"卡片标题"},{default:i(()=>[s(u,{modelValue:e(o).title,"onUpdate:modelValue":t[0]||(t[0]=n=>e(o).title=n),placeholder:"请输入卡片标题"},null,8,["modelValue"])]),_:1}),s(d,{label:"卡片描述"},{default:i(()=>[s(u,{modelValue:e(o).description,"onUpdate:modelValue":t[1]||(t[1]=n=>e(o).description=n),placeholder:"请输入卡片描述"},null,8,["modelValue"])]),_:1}),s(d,{label:"卡片封面图"},{default:i(()=>[a("div",oe,[s(x,{class:"margin-right-20",paths:e(o).icon?[e(o).icon]:[],width:100,height:100},null,8,["paths"]),a("div",null,[a("div",se,[s(X,{class:"margin-right-10",type:["image/jpg","image/jpeg","image/png"],size:1,modelValue:e(o).icon,"onUpdate:modelValue":t[2]||(t[2]=n=>e(o).icon=n)},null,8,["modelValue"]),s(Y,{modelValue:e(o).icon,"onUpdate:modelValue":t[3]||(t[3]=n=>e(o).icon=n),class:"margin-right-20"},null,8,["modelValue"])]),le])])]),_:1}),s(d,{label:"卡片备注"},{default:i(()=>[s(u,{modelValue:e(o).remark,"onUpdate:modelValue":t[4]||(t[4]=n=>e(o).remark=n),placeholder:"请输入卡片备注，例如：xxx活动（选填）"},null,8,["modelValue"])]),_:1}),s(d,{prop:"config.domain_id",label:"无风险域名"},{default:i(()=>[s(A,{modelValue:e(o).config.domain_id,"onUpdate:modelValue":t[5]||(t[5]=n=>e(o).config.domain_id=n),placeholder:"请选择"},{default:i(()=>[(c(!0),V(b,null,N(h.value,n=>(c(),v(S,{key:n.id,label:n.title,value:n.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),s(d,{prop:"config.url",label:"优码二维码"},{default:i(()=>[s(Q,{class:"margin-b-10",modelValue:e(o).config.url,"onUpdate:modelValue":t[6]||(t[6]=n=>e(o).config.url=n)},null,8,["modelValue"]),s(u,{modelValue:e(o).config.url,"onUpdate:modelValue":t[7]||(t[7]=n=>e(o).config.url=n),disabled:""},null,8,["modelValue"]),a("div",ne,[s(B,null,{default:i(()=>[s(e(E))]),_:1}),P(" 上传在优码图片类使用微信二维码、公众号二维码、企业微信二维码、视频号二维码生成的二维码"),te])]),_:1})]),_:1},8,["model"])),[[q,e(w)]]),a("div",ae,[s(j,null,{default:i(()=>[ie]),_:1}),a("div",re,[s(x,{class:"margin-right-20",paths:e(o).icon?[e(o).icon]:[],width:100,height:100},null,8,["paths"]),a("div",de,[a("span",me,f(e(o).title||"卡片标题"),1),a("span",ue,f(e(o).description||"卡片描述"),1)])])])])],64)}}});const ke=K(ce,[["__scopeId","data-v-33ef7d0f"]]);export{ke as default};
