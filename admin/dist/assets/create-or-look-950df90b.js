import{u as Y}from"./form-3c660157.js";import{i as F}from"./@element-plus-11e7d0b3.js";import{A as N}from"./domain-0ccd45bf.js";import{b as T}from"./app-62f4ec8e.js";import{O as c,u as $,_ as ee}from"./index-1cb382aa.js";import{U as b,M as O}from"./MaterialSelect-7c3644d3.js";import{d as te,r as v,b as le,ag as r,aq as oe,o as d,c as u,a as n,Q as e,I as i,O as _,u as o,J as ae,H as f,M as A,L as V,P as y,a5 as I}from"./@vue-d872a633.js";import"./element-plus-baf202ae.js";import"./lodash-es-32f1e46b.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-f13f0179.js";import"./call-bind-apply-helpers-be8cb158.js";import"./function-bind-48f717dc.js";import"./es-errors-c75f5a96.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-5ec34e26.js";import"./pinia-cb4be529.js";import"./vue-demi-71ba0ef2.js";import"./pinia-plugin-persistedstate-ed167f96.js";import"./axios-439bb627.js";import"./qs-6612e700.js";import"./side-channel-32a248f0.js";import"./object-inspect-110ff94a.js";import"./side-channel-list-1667605c.js";import"./side-channel-map-a9d6574a.js";import"./get-intrinsic-8d8987ad.js";import"./es-object-atoms-11ea1ab9.js";import"./math-intrinsics-9389030e.js";import"./gopd-30775706.js";import"./es-define-property-27915812.js";import"./has-symbols-76fb15e9.js";import"./get-proto-15e8f36b.js";import"./dunder-proto-2a4d8230.js";import"./hasown-31deb62f.js";import"./call-bound-dbfc98a1.js";import"./side-channel-weakmap-a7bef06b.js";import"./vue-router-154b9487.js";import"./@vueuse-9028f0e6.js";import"./nprogress-72cfee09.js";/* empty css                    */import"./propData-8a0097e5.js";import"./curd-b17e16e8.js";import"./cate-f1806917.js";const ie="data:image/png;base64,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",ne={style:{"margin-top":"-30px"},class:"m-b-20"},se={class:"main"},re={class:"item-box"},de={class:"function-img"},pe={class:"item-box"},me={class:"function-img"},ue={class:"qr-tip"},ge={key:0},ce={key:1},Ae={class:"qr-tip"},_e={key:0},fe={key:1},we={class:"show hidden-md-and-down"},he={class:"show-box"},ve={class:"show-des"},Ve={class:"show-des-t"},xe={class:"show-des-b"},be={class:"wx-box"},ye={class:"wx-main"},Ue={class:"wx-header"},Be={class:"show-des"},ke={class:"show-des-t"},De={class:"show-des-b"},Ce={class:"wx-qr"},Le=te({__name:"create-or-look",setup(Me){const U=v(),{formData:l,formLoading:H}=Y({formRef:U,defVal(s){return{type:"5",icon:s==null?void 0:s.icon,remark:s==null?void 0:s.remark,config:s!=null&&s.config?s==null?void 0:s.config:{wx:{qr:[],switch_type:1,uv_limit_type:1}}}}}),B=v(),K=async()=>{B.value=await N()},k=v(),X=async()=>{k.value=await T()},z={"config.wx.title":[{required:!0,message:"请输入标题",trigger:"blur"}],"config.domain_id":[{required:!0,message:"请选择域名",trigger:"blur"}],"config.min_id":[{required:!0,message:"请选择小程序",trigger:"blur"}],"config.url":[{required:!0,message:"请选择二维码图片",trigger:"blur"}]},w=v({sort:null,name:"",path:"",expired_at:"",uv_limit_num:null}),G=()=>{l.value.config.wx.qr&&(w.value.sort=l.value.config.wx.qr.length+1,w.value.name="默认名称"+w.value.sort,l.value.config.wx.qr.push(JSON.parse(JSON.stringify(w.value))))},Z=s=>{l.value.config.wx.qr.splice(s,1)},R=$;return le(()=>{K(),X()}),(s,a)=>{const S=r("el-space"),x=r("el-input"),m=r("el-form-item"),D=r("el-input-number"),g=r("el-table-column"),J=r("el-date-picker"),C=r("el-button"),W=r("el-table"),h=r("el-radio"),L=r("el-radio-group"),M=r("el-icon"),Q=r("el-option"),q=r("el-select"),j=r("el-form"),E=r("el-divider"),P=oe("loading");return d(),u(y,null,[n("div",ne,[e(S,{class:"text-main"},{default:i(()=>[n("span",null,"总个数："+_(o(R).userInfo.link_amount)+"个",1),a[10]||(a[10]=n("span",null,"消耗个数：1个",-1))]),_:1})]),n("div",se,[ae((d(),f(j,{model:o(l),rules:z,ref_key:"formRef",ref:U,class:"form-box margin-right-40","label-position":"top"},{default:i(()=>[e(m,{prop:"config.wx.title",label:"标题"},{default:i(()=>[e(x,{style:{width:"100%"},modelValue:o(l).config.wx.title,"onUpdate:modelValue":a[0]||(a[0]=t=>o(l).config.wx.title=t),placeholder:"请输入标题"},null,8,["modelValue"])]),_:1}),e(m,{label:"副标题"},{default:i(()=>[e(x,{modelValue:o(l).config.wx.sub_title,"onUpdate:modelValue":a[1]||(a[1]=t=>o(l).config.wx.sub_title=t),placeholder:"请输入副标题"},null,8,["modelValue"])]),_:1}),e(m,{label:"卡片封面图",required:""},{default:i(()=>[n("div",re,[e(c,{class:"margin-right-20",paths:o(l).icon?[o(l).icon]:[],width:100,height:100},null,8,["paths"]),n("div",null,[n("div",de,[e(b,{class:"margin-right-10",type:["image/jpg","image/jpeg","image/png"],size:1,modelValue:o(l).icon,"onUpdate:modelValue":a[2]||(a[2]=t=>o(l).icon=t)},null,8,["modelValue"]),e(O,{modelValue:o(l).icon,"onUpdate:modelValue":a[3]||(a[3]=t=>o(l).icon=t),class:"margin-right-20"},null,8,["modelValue"])]),a[11]||(a[11]=n("span",{class:"tip"},"只能上传jpg/png，建议大小100*100，且不超过1Mb",-1))])])]),_:1}),e(m,{label:"微信头像"},{default:i(()=>[n("div",pe,[e(c,{class:"margin-right-20",paths:o(l).config.wx.avatar?[o(l).config.wx.avatar]:[],width:100,height:100},null,8,["paths"]),n("div",null,[n("div",me,[e(b,{class:"margin-right-10",type:["image/jpg","image/jpeg","image/png"],size:1,modelValue:o(l).config.wx.avatar,"onUpdate:modelValue":a[4]||(a[4]=t=>o(l).config.wx.avatar=t)},null,8,["modelValue"]),e(O,{modelValue:o(l).config.wx.avatar,"onUpdate:modelValue":a[5]||(a[5]=t=>o(l).config.wx.avatar=t),class:"margin-right-20"},null,8,["modelValue"])]),a[12]||(a[12]=n("span",{class:"tip"},"只能上传jpg/png，建议大小80*80，且不超过1Mb",-1))])])]),_:1}),e(m,{label:"二维码管理",required:""},{default:i(()=>[e(W,{data:o(l).config.wx.qr,"header-cell-style":{"text-align":"center","background-color":"#F1F1F1",height:"50px",color:"#333"},"cell-style":{padding:"0","text-align":"center",height:"50px",color:"#333"}},{default:i(()=>[e(g,{prop:"sort",label:"优先级"},{default:i(({row:t})=>[e(D,{style:{width:"100px"},modelValue:t.sort,"onUpdate:modelValue":p=>t.sort=p},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(g,{prop:"name",label:"二维码文件名"},{default:i(({row:t})=>[e(x,{modelValue:t.name,"onUpdate:modelValue":p=>t.name=p},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(g,{prop:"path",label:"二维码"},{default:i(({row:t})=>[t.path?(d(),f(c,{key:1,paths:[t.path],width:40,height:40},null,8,["paths"])):(d(),f(b,{key:0,modelValue:t.path,"onUpdate:modelValue":p=>t.path=p},null,8,["modelValue","onUpdate:modelValue"]))]),_:1}),e(g,{prop:"expired_at",label:"失效日期"},{default:i(({row:t})=>[e(J,{modelValue:t.expired_at,"onUpdate:modelValue":p=>t.expired_at=p,"value-format":"YYYY-MM-DD",type:"date",placeholder:"不选为永久"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(g,{prop:"uv_limit_num",label:"访问上限(UV)",width:200},{default:i(({row:t})=>[e(D,{style:{width:"170px"},modelValue:t.uv_limit_num,"onUpdate:modelValue":p=>t.uv_limit_num=p,placeholder:"不填为无限"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(g,{label:"操作"},{default:i(({$index:t})=>[e(C,{type:"primary",link:"",onClick:p=>Z(t)},{default:i(()=>a[13]||(a[13]=[A("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e(C,{class:"add-qr",onClick:G},{default:i(()=>a[14]||(a[14]=[A("点击添加二维码")])),_:1})]),_:1}),e(m,{label:"二维码切换方式"},{default:i(()=>[n("div",null,[e(L,{modelValue:o(l).config.wx.switch_type,"onUpdate:modelValue":a[6]||(a[6]=t=>o(l).config.wx.switch_type=t)},{default:i(()=>[e(h,{value:1,label:1},{default:i(()=>a[15]||(a[15]=[A("轮询切换")])),_:1}),e(h,{value:3,label:2},{default:i(()=>a[16]||(a[16]=[A("随机切换")])),_:1})]),_:1},8,["modelValue"]),n("div",ue,[e(M,{class:"margin-right-10"},{default:i(()=>[e(o(F))]),_:1}),o(l).config.wx.switch_type===1?(d(),u("span",ge,"根据二维码的优先级顺序，平均展示给访问用户")):V("",!0),o(l).config.wx.switch_type===2?(d(),u("span",ce,"将所上传的二维码随机展示")):V("",!0)])])]),_:1}),e(m,{label:"二维码访问上限类型"},{default:i(()=>[n("div",null,[e(L,{modelValue:o(l).config.wx.uv_limit_type,"onUpdate:modelValue":a[7]||(a[7]=t=>o(l).config.wx.uv_limit_type=t)},{default:i(()=>[e(h,{value:1,label:1},{default:i(()=>a[17]||(a[17]=[A("积累限制")])),_:1}),e(h,{value:2,label:2},{default:i(()=>a[18]||(a[18]=[A("每日限制")])),_:1})]),_:1},8,["modelValue"]),n("div",Ae,[e(M,{class:"margin-right-10"},{default:i(()=>[e(o(F))]),_:1}),o(l).config.wx.uv_limit_type===1?(d(),u("span",_e,"所上传的每个二维码，[累计访问]次数达到所设置的访问上限后，则按规则切换至其他二维码")):V("",!0),o(l).config.wx.uv_limit_type===2?(d(),u("span",fe,"所上传的每个二维码，[每日限制]次数达到所设置的访问上限后，则按规则切换至其他二维码")):V("",!0)])])]),_:1}),e(m,{prop:"config.domain_id",label:"无风险域名"},{default:i(()=>[e(q,{modelValue:o(l).config.domain_id,"onUpdate:modelValue":a[8]||(a[8]=t=>o(l).config.domain_id=t),placeholder:"请选择"},{default:i(()=>[(d(!0),u(y,null,I(B.value,t=>(d(),f(Q,{key:t.id,label:t.title,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(m,{prop:"config.min_id",label:"落地小程序"},{default:i(()=>[e(q,{modelValue:o(l).config.min_id,"onUpdate:modelValue":a[9]||(a[9]=t=>o(l).config.min_id=t),placeholder:"请选择"},{default:i(()=>[(d(!0),u(y,null,I(k.value,t=>(d(),f(Q,{key:t.id,label:t.name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])),[[P,o(H)]]),n("div",we,[e(E,null,{default:i(()=>a[19]||(a[19]=[n("span",null,"抖音卡片预览",-1)])),_:1}),n("div",he,[e(c,{class:"margin-right-20",paths:o(l).icon?[o(l).icon]:[],width:100,height:100},null,8,["paths"]),n("div",ve,[n("span",Ve,_(o(l).config.wx.title||"卡片标题"),1),n("span",xe,_(o(l).config.wx.sub_title||"卡片描述"),1)])]),n("div",be,[a[20]||(a[20]=n("img",{class:"wx-img",src:ie,alt:""},null,-1)),n("div",ye,[n("div",Ue,[e(c,{class:"margin-right-20",paths:o(l).config.wx.avatar?[o(l).config.wx.avatar]:[],width:60,height:60},null,8,["paths"]),n("div",Be,[n("span",ke,_(o(l).config.wx.title||"标题"),1),n("span",De,_(o(l).config.wx.sub_title||"副标题"),1)])]),n("div",Ce,[e(c,{class:"margin-right-20",paths:o(l).config.wx.qr.length>0?[o(l).config.wx.qr[0].path]:[],width:160,height:160},null,8,["paths"])])])])])])],64)}}});const yt=ee(Le,[["__scopeId","data-v-6dde4a39"]]);export{yt as default};
