import{B as h,R as w}from"./@element-plus-11e7d0b3.js";import{u as q}from"./curd-66c8d773.js";import{_ as E}from"./FormModal.vue_vue_type_script_setup_true_lang-9b833357.js";import{_ as H}from"./create-or-look.vue_vue_type_script_setup_true_lang-cba7954d.js";import{d as I,r as P,ag as m,aq as J,o as s,c as g,Q as e,I as i,a as c,u as t,M as d,J as K,H as f,O as v,L as M,P as O}from"./@vue-d872a633.js";import{_ as Q}from"./index-eb0483c8.js";import"./element-plus-baf202ae.js";import"./lodash-es-32f1e46b.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-f13f0179.js";import"./call-bind-apply-helpers-be8cb158.js";import"./function-bind-48f717dc.js";import"./es-errors-c75f5a96.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-5ec34e26.js";import"./propData-8a0097e5.js";import"./form-3c660157.js";import"./pinia-cb4be529.js";import"./vue-demi-71ba0ef2.js";import"./pinia-plugin-persistedstate-ed167f96.js";import"./axios-439bb627.js";import"./qs-6612e700.js";import"./side-channel-32a248f0.js";import"./object-inspect-110ff94a.js";import"./side-channel-list-1667605c.js";import"./side-channel-map-a9d6574a.js";import"./get-intrinsic-8d8987ad.js";import"./es-object-atoms-11ea1ab9.js";import"./math-intrinsics-9389030e.js";import"./gopd-30775706.js";import"./es-define-property-27915812.js";import"./has-symbols-76fb15e9.js";import"./get-proto-15e8f36b.js";import"./dunder-proto-2a4d8230.js";import"./hasown-31deb62f.js";import"./call-bound-dbfc98a1.js";import"./side-channel-weakmap-a7bef06b.js";import"./vue-router-154b9487.js";import"./@vueuse-9028f0e6.js";import"./nprogress-72cfee09.js";/* empty css                    */const R={class:"header-right"},T={key:0},j=I({__name:"index",setup(z){const{state:a,showForm:y,submitForm:C,deleteHandle:x,query:V,inlineEdit:B}=q({url:"/vip-packages",openPage:!1}),F=()=>{u.value=!1},u=P(!0),N=async _=>{await B(_.id,"level",_.level),await V(),u.value=!0};return(_,o)=>{var k;const n=m("el-button"),p=m("el-table-column"),$=m("el-input-number"),D=m("el-empty"),S=m("el-table"),L=m("el-card"),U=J("loading");return s(),g(O,null,[e(L,null,{default:i(()=>[c("div",R,[e(n,{type:"primary",icon:t(h),onClick:t(y)},{default:i(()=>o[2]||(o[2]=[d("新增套餐")])),_:1},8,["icon","onClick"])]),K((s(),f(S,{data:t(a).dataList,"header-cell-style":{"text-align":"center","background-color":"#F1F1F1",height:"50px",color:"#333"},"cell-style":{padding:"0","text-align":"center",height:"50px",color:"#333"},"row-key":t(a).primaryKey},{empty:i(()=>[e(D)]),default:i(()=>[e(p,{prop:"name",label:"套餐名称"}),e(p,{prop:"price",label:"价格/月"}),e(p,{prop:"level",label:"等级"},{default:i(({row:l})=>[u.value===!1?(s(),g("div",T,[e($,{modelValue:l.level,"onUpdate:modelValue":r=>l.level=r},null,8,["modelValue","onUpdate:modelValue"]),e(n,{type:"primary",link:"",onClick:o[0]||(o[0]=r=>u.value=!0)},{default:i(()=>o[3]||(o[3]=[d("取消")])),_:1}),e(n,{type:"primary",link:"",onClick:r=>N(l)},{default:i(()=>o[4]||(o[4]=[d("确认")])),_:2},1032,["onClick"])])):(s(),f(n,{key:1,type:"primary",link:"",icon:t(w),onClick:F},{default:i(()=>[d(v(l.level),1)]),_:2},1032,["icon"]))]),_:1}),e(p,{label:"权限配置"},{default:i(({row:l})=>{var r,b;return[c("div",null,"链接数量："+v((r=l.config)==null?void 0:r.count_limit),1),c("div",null,"UV限制："+v((b=l.config)==null?void 0:b.uv_limit),1)]}),_:1}),e(p,{prop:"created_at",label:"创建时间"}),e(p,{prop:"",label:"操作",fixed:"right"},{default:i(({row:l})=>[e(n,{type:"primary",link:"",onClick:r=>t(y)(l)},{default:i(()=>o[5]||(o[5]=[d("编辑")])),_:2},1032,["onClick"]),e(n,{type:"primary",link:"",onClick:r=>t(x)(l.id)},{default:i(()=>o[6]||(o[6]=[d("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","row-key"])),[[U,t(a).listLoading]])]),_:1}),t(a).formVisible===!0?(s(),f(E,{key:0,visible:t(a).formVisible,"onUpdate:visible":o[1]||(o[1]=l=>t(a).formVisible=l),loading:t(a).formLoading,detail:t(a).detailData,onSubmit:t(C),type:"dialog",width:"1000",title:(k=t(a).detailData)!=null&&k.id?"编辑":"新增",cancelBtnName:"取消",okBtnName:"确定"},{default:i(()=>[e(H)]),_:1},8,["visible","loading","detail","onSubmit","title"])):M("",!0)],64)}}});const Pe=Q(j,[["__scopeId","data-v-dd738d00"]]);export{Pe as default};
