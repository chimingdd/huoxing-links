import{d as y,j as w,as as V,E as r,at as C,r as a,o as N,a as B,w as n,i as o,f as i,g as c,au as E,av as I,l as U}from"./.pnpm-9b0f0a98.js";import{u as k,I as T,_ as R}from"./index-31481636.js";import{g as F,e as M}from"./super-d6a4fee1.js";const O={style:{border:"1px solid #ccc"}},$={class:"text-center m-t-20"},j=y({__name:"index",setup(z){const t=w({title:"",content:"",show:!1}),d=V(),f={},_={placeholder:"请输入内容...",MENU_CONF:{uploadImage:{fieldName:"image",server:"/api/material-upload",allowedFileTypes:["image/*"],headers:{Authorization:`Bearer ${k.getToken()}`},onError(e){r.error(`${e.name} 上传出错`)},customInsert(e,l){e&&e.path&&(l(T(e.path),"",""),r.success("上传成功"))}}}};C(()=>{const e=d.value;e!=null&&e.destroy()});const m=e=>{d.value=e};F().then(e=>{t.value=e});const p=()=>{if(!t.value.title){r.error("请输入标题");return}M(t.value).then(e=>{r.success("保存成功")})};return(e,l)=>{const v=a("el-input"),u=a("el-form-item"),h=a("el-switch"),g=a("el-form"),x=a("el-button"),b=a("el-card");return N(),B(b,null,{default:n(()=>[o(g,{ref:"formRef","label-width":"120px"},{default:n(()=>[o(u,{label:"标题"},{default:n(()=>[o(v,{modelValue:t.value.title,"onUpdate:modelValue":l[0]||(l[0]=s=>t.value.title=s),style:{width:"700px"},placeholder:"请输入标题"},null,8,["modelValue"])]),_:1}),o(u,{label:"内容"},{default:n(()=>[i("div",O,[o(c(E),{style:{"border-bottom":"1px solid #ccc"},editor:d.value,"default-config":f},null,8,["editor"]),o(c(I),{modelValue:t.value.content,"onUpdate:modelValue":l[1]||(l[1]=s=>t.value.content=s),style:{height:"500px","overflow-y":"hidden"},"default-config":_,onOnCreated:m},null,8,["modelValue"])])]),_:1}),o(u,{label:"是否弹窗显示"},{default:n(()=>[o(h,{modelValue:t.value.show,"onUpdate:modelValue":l[2]||(l[2]=s=>t.value.show=s)},null,8,["modelValue"])]),_:1})]),_:1},512),i("div",$,[o(x,{type:"primary",onClick:p},{default:n(()=>[U("保存")]),_:1})])]),_:1})}}});const S=R(j,[["__scopeId","data-v-ffbedf16"]]);export{S as default};
