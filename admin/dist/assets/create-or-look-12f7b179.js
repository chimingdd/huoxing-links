import{T as D,_ as M}from"./tailorUpload-dfd2556c.js";import{u as N}from"./form-55b2d4db.js";import{O as b,_ as O}from"./index-eed46f6d.js";import{M as v,U as S}from"./MaterialSelect-6c1b0c90.js";import{A}from"./domain-fbe430f9.js";import{d as F,j as h,z as T,r as d,X as z,o as m,b as k,Y as E,g as e,a as c,w as s,i as n,f as i,l as q,h as Q,F as R,e as X,A as Y,B as G}from"./.pnpm-0d809032.js";import"./propData-9c18804a.js";import"./curd-7c8e8c0b.js";import"./cate-5ff56f91.js";import"./app-a09aec9e.js";const g=p=>(Y("data-v-66ed5b89"),p=p(),G(),p),H={class:"main"},J={class:"item-box"},K={class:"function-img"},P={class:"m-r-20"},W=g(()=>i("span",{class:"tip"},"只能上传jpg/png，建议大小100*100，且不超过1Mb",-1)),Z={class:"item-box"},$={class:"function-img"},ee={class:"m-r-20"},oe=g(()=>i("span",{class:"tip"},"只能上传jpg/png，建议大小100*100，且不超过1Mb",-1)),le={class:"show hidden-md-and-down"},ne=g(()=>i("span",null,"预览",-1)),re=g(()=>i("div",{class:"show-box"},[i("img",{class:"show-box",src:M})],-1)),te=F({__name:"create-or-look",setup(p){const _=h(),{formData:o,formLoading:w}=N({formRef:_,defVal(r){return{id:r==null?void 0:r.id,type:7,title:r==null?void 0:r.title,icon:r==null?void 0:r.icon,remark:r==null?void 0:r.remark,description:r==null?void 0:r.description,config:r!=null&&r.config?r==null?void 0:r.config:{version:1,nickname:"",number:"",qr:""}}}}),U={title:[{required:!0,message:"请输入标题",trigger:"blur"}],icon:[{required:!0,message:"请上传卡片封面图",trigger:"blur"}],"config.number":[{required:!0,message:"请输入QQ群号码",trigger:"blur"}],"config.qr":[{required:!0,message:"请上传QQ群二维码",trigger:"blur"}],"config.nickname":[{required:!0,message:"请输入QQ群昵称",trigger:"blur"}],"config.domain_id":[{required:!0,message:"请选择域名",trigger:"blur"}]},f=h(),y=async()=>{f.value=await A()};return T(()=>{y()}),(r,t)=>{const u=d("el-input"),a=d("el-form-item"),V=d("el-radio"),x=d("el-radio-group"),L=d("el-option"),I=d("el-select"),j=d("el-form"),B=d("el-divider"),C=z("loading");return m(),k("div",H,[E((m(),c(j,{model:e(o),rules:U,ref_key:"formRef",ref:_,class:"form-box margin-right-40","label-position":"top"},{default:s(()=>[n(a,{prop:"title",label:"标题"},{default:s(()=>[n(u,{style:{width:"100%"},modelValue:e(o).title,"onUpdate:modelValue":t[0]||(t[0]=l=>e(o).title=l),placeholder:"请输入标题"},null,8,["modelValue"])]),_:1}),n(a,{prop:"description",label:"描述"},{default:s(()=>[n(u,{style:{width:"100%"},modelValue:e(o).description,"onUpdate:modelValue":t[1]||(t[1]=l=>e(o).description=l),placeholder:"请输入描述"},null,8,["modelValue"])]),_:1}),n(a,{label:"备注"},{default:s(()=>[n(u,{modelValue:e(o).remark,"onUpdate:modelValue":t[2]||(t[2]=l=>e(o).remark=l),placeholder:"请输入备注"},null,8,["modelValue"])]),_:1}),n(a,{label:"卡片封面图",prop:"icon"},{default:s(()=>[i("div",J,[n(b,{class:"margin-right-20",paths:e(o).icon?[e(o).icon]:[],width:100,height:100},null,8,["paths"]),i("div",null,[i("div",K,[i("div",P,[n(D,{modelValue:e(o).icon,"onUpdate:modelValue":t[3]||(t[3]=l=>e(o).icon=l)},null,8,["modelValue"])]),n(v,{modelValue:e(o).icon,"onUpdate:modelValue":t[4]||(t[4]=l=>e(o).icon=l),class:"margin-right-20"},null,8,["modelValue"])]),W])])]),_:1}),n(a,{prop:"config.nickname",label:"QQ群昵称"},{default:s(()=>[n(u,{style:{width:"100%"},modelValue:e(o).config.nickname,"onUpdate:modelValue":t[5]||(t[5]=l=>e(o).config.nickname=l),placeholder:"请输QQ群昵称"},null,8,["modelValue"])]),_:1}),n(a,{required:"",class:"m-t-20"},{default:s(()=>[n(x,{modelValue:e(o).config.version,"onUpdate:modelValue":t[6]||(t[6]=l=>e(o).config.version=l)},{default:s(()=>[n(V,{value:1,label:1},{default:s(()=>[q("旧版")]),_:1}),n(V,{value:2,label:2},{default:s(()=>[q("新版")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(o).config.version===1?(m(),c(a,{key:0,label:"QQ群号码",prop:"config.number"},{default:s(()=>[n(u,{modelValue:e(o).config.number,"onUpdate:modelValue":t[7]||(t[7]=l=>e(o).config.number=l),placeholder:"请输入QQ群号码"},null,8,["modelValue"])]),_:1})):Q("",!0),e(o).config.version===2?(m(),c(a,{key:1,label:"QQ群二维码",prop:"config.qr"},{default:s(()=>[i("div",Z,[n(b,{class:"margin-right-20",paths:e(o).config.qr?[e(o).config.qr]:[],width:100,height:100},null,8,["paths"]),i("div",null,[i("div",$,[i("div",ee,[n(S,{type:["image/jpg","image/jpeg","image/png"],size:1,modelValue:e(o).config.qr,"onUpdate:modelValue":t[8]||(t[8]=l=>e(o).config.qr=l)},null,8,["modelValue"])]),n(v,{modelValue:e(o).config.qr,"onUpdate:modelValue":t[9]||(t[9]=l=>e(o).config.qr=l),class:"margin-right-20"},null,8,["modelValue"])]),oe])])]),_:1})):Q("",!0),n(a,{prop:"config.domain_id",label:"无风险域名"},{default:s(()=>[n(I,{modelValue:e(o).config.domain_id,"onUpdate:modelValue":t[10]||(t[10]=l=>e(o).config.domain_id=l),placeholder:"请选择",style:{width:"100%"}},{default:s(()=>[(m(!0),k(R,null,X(f.value,l=>(m(),c(L,{key:l.id,label:l.title,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])),[[C,e(w)]]),i("div",le,[n(B,null,{default:s(()=>[ne]),_:1}),re])])}}});const fe=O(te,[["__scopeId","data-v-66ed5b89"]]);export{fe as default};
