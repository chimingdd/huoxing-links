import{u as L}from"./index-eb0483c8.js";import{u as q}from"./form-3c660157.js";import{a as M}from"./super-2d0f8d7f.js";import{T as R}from"./@element-plus-11e7d0b3.js";import{d as S,r as y,b as A,ag as m,aq as E,o as p,c as x,Q as t,I as n,a as i,O as _,u as e,P as w,a5 as H,J,H as c,L as O,M as Q}from"./@vue-d872a633.js";import"./element-plus-baf202ae.js";import"./lodash-es-32f1e46b.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-f13f0179.js";import"./call-bind-apply-helpers-be8cb158.js";import"./function-bind-48f717dc.js";import"./es-errors-c75f5a96.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-5ec34e26.js";import"./pinia-cb4be529.js";import"./vue-demi-71ba0ef2.js";import"./pinia-plugin-persistedstate-ed167f96.js";import"./axios-439bb627.js";import"./qs-6612e700.js";import"./side-channel-32a248f0.js";import"./object-inspect-110ff94a.js";import"./side-channel-list-1667605c.js";import"./side-channel-map-a9d6574a.js";import"./get-intrinsic-8d8987ad.js";import"./es-object-atoms-11ea1ab9.js";import"./math-intrinsics-9389030e.js";import"./gopd-30775706.js";import"./es-define-property-27915812.js";import"./has-symbols-76fb15e9.js";import"./get-proto-15e8f36b.js";import"./dunder-proto-2a4d8230.js";import"./hasown-31deb62f.js";import"./call-bound-dbfc98a1.js";import"./side-channel-weakmap-a7bef06b.js";import"./vue-router-154b9487.js";import"./@vueuse-9028f0e6.js";import"./nprogress-72cfee09.js";/* empty css                    */const j={class:"text-main"},Le=S({__name:"agentForm",setup(z){const v=y(),{formData:a,formLoading:I}=q({formRef:v,defVal(o){return{parent_id:(o==null?void 0:o.parent_id)||void 0,link_amount:(o==null?void 0:o.link_amount)||0,yuanma_amount:(o==null?void 0:o.yuanma_amount)||0,dy_card_amount:(o==null?void 0:o.dy_card_amount)||0,status:o==null?void 0:o.status,getParent:(o==null?void 0:o.getParent)||[],username:o==null?void 0:o.username}}}),u=L,b=y();let V=y(!1);const D=async()=>{V.value||(V.value=!0,b.value=await M())};return A(()=>{D()}),(o,l)=>{const d=m("el-col"),h=m("el-row"),k=m("el-divider"),g=m("el-breadcrumb-item"),U=m("el-breadcrumb"),B=m("el-option"),C=m("el-tree"),N=m("el-select"),s=m("el-form-item"),f=m("el-input"),P=m("el-switch"),T=m("el-form"),F=E("loading");return p(),x(w,null,[t(h,{gutter:10,class:"m-b-20 text-main",style:{"margin-top":"-20px"}},{default:n(()=>[t(d,{xs:24,sm:8},{default:n(()=>[i("div",null,"链接剩余个数："+_(e(u).userInfo&&e(u).userInfo.link_amount),1)]),_:1}),t(d,{xs:24,sm:8},{default:n(()=>[i("div",null,"小圆码剩余个数："+_(e(u).userInfo&&e(u).userInfo.yuanma_amount),1)]),_:1}),t(d,{xs:24,sm:8},{default:n(()=>[i("div",null,"自动回复剩余个数："+_(e(u).userInfo&&e(u).userInfo.dy_card_amount),1)]),_:1})]),_:1}),t(k),t(U,{"separator-icon":e(R)},{default:n(()=>[t(g,null,{default:n(()=>[i("div",j,_(e(a).username),1)]),_:1}),(p(!0),x(w,null,H(e(a).getParent,r=>(p(),c(g,{key:r.id},{default:n(()=>[Q(_(r.username),1)]),_:2},1024))),128))]),_:1},8,["separator-icon"]),t(k),J((p(),c(T,{model:e(a),ref_key:"formRef",ref:v,"label-position":"top"},{default:n(()=>[e(u).userInfo.type===3?(p(),c(s,{key:0,label:"父级"},{default:n(()=>[t(N,{modelValue:e(a).parent_id,"onUpdate:modelValue":l[0]||(l[0]=r=>e(a).parent_id=r),clearable:"",style:{width:"100%"},"popper-class":"tree-select",placeholder:"请选择"},{default:n(()=>[t(C,{data:b.value,"node-key":"id","auto-expand-parent":"","default-checked-keys":[e(a).parent_id],"expand-on-click-node":!1},{default:n(({data:r})=>[(p(),c(B,{style:{width:"100%"},key:r.id,value:r.id,label:r.label},null,8,["value","label"]))]),_:1},8,["data","default-checked-keys"])]),_:1},8,["modelValue"])]),_:1})):O("",!0),t(s,{prop:"name",label:"链接数量"},{default:n(()=>[t(f,{type:"number",modelValue:e(a).link_amount,"onUpdate:modelValue":l[1]||(l[1]=r=>e(a).link_amount=r),placeholder:"请输入链接数量"},null,8,["modelValue"])]),_:1}),t(s,{prop:"app_id",label:"小圆码数量"},{default:n(()=>[t(f,{type:"number",modelValue:e(a).yuanma_amount,"onUpdate:modelValue":l[2]||(l[2]=r=>e(a).yuanma_amount=r),placeholder:"请输入小圆码数量"},null,8,["modelValue"])]),_:1}),t(s,{prop:"secret",label:"抖音自动回复卡片数量"},{default:n(()=>[t(f,{type:"number",modelValue:e(a).dy_card_amount,"onUpdate:modelValue":l[3]||(l[3]=r=>e(a).dy_card_amount=r),placeholder:"请输入抖音自动回复卡片数量"},null,8,["modelValue"])]),_:1}),t(s,{label:"账号状态"},{default:n(()=>[t(P,{modelValue:e(a).status,"onUpdate:modelValue":l[4]||(l[4]=r=>e(a).status=r),"active-value":!0,"inactive-value":!1,"active-text":"开启","inactive-text":"禁用","inline-prompt":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])),[[F,e(I)]])],64)}}});export{Le as default};
