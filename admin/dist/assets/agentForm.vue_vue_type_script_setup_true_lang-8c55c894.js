import{u as L}from"./index-1cb382aa.js";import{u as q}from"./form-3c660157.js";import{a as M}from"./super-7177c5c9.js";import{T as R}from"./@element-plus-11e7d0b3.js";import{d as S,r as y,b as A,ag as r,aq as E,o as m,c as x,Q as n,I as a,a as c,O as p,u as e,P as w,a5 as H,J,H as d,L as O,M as Q}from"./@vue-d872a633.js";const j={class:"text-main"},Z=S({__name:"agentForm",setup(z){const v=y(),{formData:l,formLoading:I}=q({formRef:v,defVal(o){return{parent_id:(o==null?void 0:o.parent_id)||void 0,link_amount:(o==null?void 0:o.link_amount)||0,yuanma_amount:(o==null?void 0:o.yuanma_amount)||0,dy_card_amount:(o==null?void 0:o.dy_card_amount)||0,status:o==null?void 0:o.status,getParent:(o==null?void 0:o.getParent)||[],username:o==null?void 0:o.username}}}),s=L,b=y();let V=y(!1);const D=async()=>{V.value||(V.value=!0,b.value=await M())};return A(()=>{D()}),(o,u)=>{const f=r("el-col"),h=r("el-row"),k=r("el-divider"),g=r("el-breadcrumb-item"),U=r("el-breadcrumb"),B=r("el-option"),C=r("el-tree"),N=r("el-select"),_=r("el-form-item"),i=r("el-input"),P=r("el-switch"),T=r("el-form"),F=E("loading");return m(),x(w,null,[n(h,{gutter:10,class:"m-b-20 text-main",style:{"margin-top":"-20px"}},{default:a(()=>[n(f,{xs:24,sm:8},{default:a(()=>[c("div",null,"链接剩余个数："+p(e(s).userInfo&&e(s).userInfo.link_amount),1)]),_:1}),n(f,{xs:24,sm:8},{default:a(()=>[c("div",null,"小圆码剩余个数："+p(e(s).userInfo&&e(s).userInfo.yuanma_amount),1)]),_:1}),n(f,{xs:24,sm:8},{default:a(()=>[c("div",null,"自动回复剩余个数："+p(e(s).userInfo&&e(s).userInfo.dy_card_amount),1)]),_:1})]),_:1}),n(k),n(U,{"separator-icon":e(R)},{default:a(()=>[n(g,null,{default:a(()=>[c("div",j,p(e(l).username),1)]),_:1}),(m(!0),x(w,null,H(e(l).getParent,t=>(m(),d(g,{key:t.id},{default:a(()=>[Q(p(t.username),1)]),_:2},1024))),128))]),_:1},8,["separator-icon"]),n(k),J((m(),d(T,{model:e(l),ref_key:"formRef",ref:v,"label-position":"top"},{default:a(()=>[e(s).userInfo.type===3?(m(),d(_,{key:0,label:"父级"},{default:a(()=>[n(N,{modelValue:e(l).parent_id,"onUpdate:modelValue":u[0]||(u[0]=t=>e(l).parent_id=t),clearable:"",style:{width:"100%"},"popper-class":"tree-select",placeholder:"请选择"},{default:a(()=>[n(C,{data:b.value,"node-key":"id","auto-expand-parent":"","default-checked-keys":[e(l).parent_id],"expand-on-click-node":!1},{default:a(({data:t})=>[(m(),d(B,{style:{width:"100%"},key:t.id,value:t.id,label:t.label},null,8,["value","label"]))]),_:1},8,["data","default-checked-keys"])]),_:1},8,["modelValue"])]),_:1})):O("",!0),n(_,{prop:"name",label:"链接数量"},{default:a(()=>[n(i,{type:"number",modelValue:e(l).link_amount,"onUpdate:modelValue":u[1]||(u[1]=t=>e(l).link_amount=t),placeholder:"请输入链接数量"},null,8,["modelValue"])]),_:1}),n(_,{prop:"app_id",label:"小圆码数量"},{default:a(()=>[n(i,{type:"number",modelValue:e(l).yuanma_amount,"onUpdate:modelValue":u[2]||(u[2]=t=>e(l).yuanma_amount=t),placeholder:"请输入小圆码数量"},null,8,["modelValue"])]),_:1}),n(_,{prop:"secret",label:"抖音自动回复卡片数量"},{default:a(()=>[n(i,{type:"number",modelValue:e(l).dy_card_amount,"onUpdate:modelValue":u[3]||(u[3]=t=>e(l).dy_card_amount=t),placeholder:"请输入抖音自动回复卡片数量"},null,8,["modelValue"])]),_:1}),n(_,{label:"账号状态"},{default:a(()=>[n(P,{modelValue:e(l).status,"onUpdate:modelValue":u[4]||(u[4]=t=>e(l).status=t),"active-value":!0,"inactive-value":!1,"active-text":"开启","inactive-text":"禁用","inline-prompt":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])),[[F,e(I)]])],64)}}});export{Z as _};
